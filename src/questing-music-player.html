<link rel="import" href="node_modules/@polymer/polymer/polymer.html" />

<dom-module id="questing-music-player">
	<template>
		<style>
			h2{
				text-align:center;
			}
			img.arrows{
				max-width: 50px;
				width: 6%;
				margin-top: 215px;
				margin-bottom: 215px;
				display:block;
				float:left;
				cursor: pointer;
			}
			iframe{
				display:block;
				float:left;
				width: 65%;
			}

			#leftArrow{
				margin-right: 1%;
				margin-left: 10%;
			}
			#rightArrow{
				margin-left: 1%;
				margin-right: 10%;
			}
		</style>


		<h2>Questing Music</h2>
		<img id="leftArrow" class="arrows" src="images\\LeftArrow.png"/>
		<iframe width="640" height="480" src="[[currentQuestingMusic]]" frameborder="0" allowfullscreen></iframe>
		<img id="rightArrow" class="arrows" src="images\\RightArrow.png"/>
			
	</template>
	<script>
    // element registration
    Polymer({
      is: "questing-music-player",

      
		properties: {
		
			questingMusicPlaylist:{
				type: Array,
				value: function(){return ["https://www.youtube.com/embed/WgXqGBcGdX8",
				                          "https://www.youtube.com/embed/zlkIUmn5USg",
				                          "https://www.youtube.com/embed/x-NBfQOAdRI",
				                          "https://www.youtube.com/embed/bl9dP0CJfbQ",
				                          "https://www.youtube.com/embed/vdNpaJwLiZA",
				                          "https://www.youtube.com/embed/WFkGjEut9U4"]}
			},
			currentQuestingMusic:{
				type: String,
				value: ""
			},
			currentSongIndex:{
				type: Number,
				value: 0
			}
    },

    attached: function () {
      this.currentQuestingMusic = this.questingMusicPlaylist[0];
	  this.$.leftArrow.addEventListener("click", this.previousVideo.bind(this), false);
	  this.$.rightArrow.addEventListener("click", this.nextVideo.bind(this), false);
    },
	
	previousVideo: function(){
		if(this.currentSongIndex == 0){
			this.currentSongIndex = this.questingMusicPlaylist.length;
		}
		this.currentSongIndex--;
		this.currentQuestingMusic = this.questingMusicPlaylist[this.currentSongIndex];
	},
	
	nextVideo: function(){
		this.currentSongIndex = (this.currentSongIndex + 1) % this.questingMusicPlaylist.length;
		this.currentQuestingMusic = this.questingMusicPlaylist[this.currentSongIndex];
	},
	
	});
  </script>
</dom-module>